<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>XPS controller module &#8212; PLACE 0.10.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/pydoctheme.css" />
    
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    
    <script src="_static/sidebar.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="PLACE configuration" href="config.html" />
    <link rel="prev" title="Temperature control plugin" href="temperature_control.html" />
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <link rel="shortcut icon" type="image/png" href="_static/favicon.png" />
    <meta name="viewport" content="width=device-width,initial-scale=0.8">
    
    

  </head><body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="responsive-menu"><a href="#sidebar-anchor" title="Navigation">&#9776;</a></li>
        <li><a href="index.html">PLACE 0.10.0 documentation</a> &#187;</li> 
      </ul>
    </div>
    
        <div class="badge">
            <a href="https://github.com/PALab/place/">Fork me on GitHub</a>
            <img src="_static/right-red@2x.png">
        </div>
    
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="module-place.plugins.xps_control.xps_control">
<span id="xps-controller-module"></span><h1>XPS controller module<a class="headerlink" href="#module-place.plugins.xps_control.xps_control" title="Permalink to this heading">¶</a></h1>
<p>Stage movement using the XPS-C8 controller.</p>
<p>Note this plugin requires the following information to be present
in .place.cfg:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ip_address</span> <span class="o">=</span> <span class="n">enter_value_here</span>  <span class="c1">#(e.g. 192.168.1.20)</span>
</pre></div>
</div>
<p>The individual classes (stages) require their own values in .place.cfg too
(see details below).</p>
<dl class="py class">
<dt class="sig sig-object py" id="place.plugins.xps_control.xps_control.Stage">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">place.plugins.xps_control.xps_control.</span></span><span class="sig-name descname"><span class="pre">Stage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plotter</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/place/plugins/xps_control/xps_control.html#Stage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#place.plugins.xps_control.xps_control.Stage" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="instrument.html#place.plugins.instrument.Instrument" title="place.plugins.instrument.Instrument"><code class="xref py py-class docutils literal notranslate"><span class="pre">Instrument</span></code></a></p>
<p>The base class for all movement stages.</p>
<p>This class provides access to the XPS controller that controls the movement
of stages. Movement that is specific to a subset of stages should be
written into the subclasses.</p>
<p>The XPS Controller module requires the following configuration data
(accessible as self._config[’<em>key</em>’]):</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Key</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Meaning</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>mode</p></td>
<td><p>string</p></td>
<td><p>the stages can either operate in ‘incremental’
mode, where they move a set amount at each
update; or ‘continuous’ mode, where they move
throughout the experiment (or until they reach
their limit)</p></td>
</tr>
<tr class="row-odd"><td><p>velocity</p></td>
<td><p>float</p></td>
<td><p>the target velocity for movement</p></td>
</tr>
<tr class="row-even"><td><p>acceleration</p></td>
<td><p>float</p></td>
<td><p>the acceleration allowed to achieve velocity</p></td>
</tr>
<tr class="row-odd"><td><p>wait</p></td>
<td><p>float</p></td>
<td><p>the amount of time to wait after stage movement
(allows the sample to settle)</p></td>
</tr>
<tr class="row-even"><td><p>start</p></td>
<td><p>float</p></td>
<td><p>start position of stage</p></td>
</tr>
<tr class="row-odd"><td><p>increment</p></td>
<td><p>float</p></td>
<td><p>the step distance for the stage (can also be
calculated by PLACE using the ‘end’ value)</p></td>
</tr>
<tr class="row-even"><td><p>end</p></td>
<td><p>float</p></td>
<td><p>end position of the stage (can also be
calculated by PLACE using the ‘increment’
value)</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt class="sig sig-object py" id="place.plugins.xps_control.xps_control.Stage.config">
<span class="sig-name descname"><span class="pre">config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metadata</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">total_updates</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/place/plugins/xps_control/xps_control.html#Stage.config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#place.plugins.xps_control.xps_control.Stage.config" title="Permalink to this definition">¶</a></dt>
<dd><p>Configure the stage for an experiment.</p>
<p>For a movement stage, configuring means setting up all the internal
values. It does not mean that we move to the first position. No actual
movement should happen until the update() method is called.</p>
<p>At this time, all we need to do is initialize all our class variables
and connect to the XPS controller.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>metadata</strong> (<em>dict</em>) – metadata for the experiment</p></li>
<li><p><strong>total_updates</strong> (<em>int</em>) – the number of update steps that will be in this experiment</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="place.plugins.xps_control.xps_control.Stage.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">update_number</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">progress</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/place/plugins/xps_control/xps_control.html#Stage.update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#place.plugins.xps_control.xps_control.Stage.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Move the stage.</p>
<p>In incremental mode, this will then move the stage and ask the
controller to return to us the actual position the stage settled at. We
will save this position into the NumPy data.</p>
<p>In continuous mode, this will start the motion on the first update. On
each update, the current position will be saved, however, as the stage
will be in motion, this will not reflect the position at which other
PLACE events occured.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>update_number</strong> (<em>int</em>) – the current update count</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the position data for this update of this instrument</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="place.plugins.xps_control.xps_control.Stage.cleanup">
<span class="sig-name descname"><span class="pre">cleanup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">abort</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/place/plugins/xps_control/xps_control.html#Stage.cleanup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#place.plugins.xps_control.xps_control.Stage.cleanup" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop stage movement and end the experiment.</p>
<p>For us, this simply means closing the connection to the XPS controller.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>abort</strong> (<em>bool</em>) – indicates the experiment has been stopped rather than
having finished normally</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="place.plugins.xps_control.xps_control.ShortStage">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">place.plugins.xps_control.xps_control.</span></span><span class="sig-name descname"><span class="pre">ShortStage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plotter</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/place/plugins/xps_control/xps_control.html#ShortStage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#place.plugins.xps_control.xps_control.ShortStage" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#place.plugins.xps_control.xps_control.Stage" title="place.plugins.xps_control.xps_control.Stage"><code class="xref py py-class docutils literal notranslate"><span class="pre">Stage</span></code></a></p>
<p>Short stage</p>
<p>Note this plugin requires the following information to be present
in .place.cfg:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">group_name</span> <span class="o">=</span> <span class="n">enter_value_here</span>       <span class="c1">#(e.g. Group1)</span>
<span class="n">positioner_name</span> <span class="o">=</span> <span class="n">enter_value_here</span>  <span class="c1">#(e.g. Group1.Pos--note capitalization of P is important)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="place.plugins.xps_control.xps_control.LongStage">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">place.plugins.xps_control.xps_control.</span></span><span class="sig-name descname"><span class="pre">LongStage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plotter</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/place/plugins/xps_control/xps_control.html#LongStage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#place.plugins.xps_control.xps_control.LongStage" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#place.plugins.xps_control.xps_control.Stage" title="place.plugins.xps_control.xps_control.Stage"><code class="xref py py-class docutils literal notranslate"><span class="pre">Stage</span></code></a></p>
<p>Long stage</p>
<p>Note this plugin requires the following information to be present
in .place.cfg:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">group_name</span> <span class="o">=</span> <span class="n">enter_value_here</span>       <span class="c1">#(e.g. Group1)</span>
<span class="n">positioner_name</span> <span class="o">=</span> <span class="n">enter_value_here</span>  <span class="c1">#(e.g. Group1.Pos--note capitalization of P is important)    </span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="place.plugins.xps_control.xps_control.RotStage">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">place.plugins.xps_control.xps_control.</span></span><span class="sig-name descname"><span class="pre">RotStage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plotter</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/place/plugins/xps_control/xps_control.html#RotStage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#place.plugins.xps_control.xps_control.RotStage" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#place.plugins.xps_control.xps_control.Stage" title="place.plugins.xps_control.xps_control.Stage"><code class="xref py py-class docutils literal notranslate"><span class="pre">Stage</span></code></a></p>
<p>Rotational stage</p>
<p>Note this plugin requires the following information to be present
in .place.cfg:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">group_name</span> <span class="o">=</span> <span class="n">enter_value_here</span>       <span class="c1">#(e.g. Group1)</span>
<span class="n">positioner_name</span> <span class="o">=</span> <span class="n">enter_value_here</span>  <span class="c1">#(e.g. Group1.Pos--note capitalization of P is important)</span>
</pre></div>
</div>
</dd></dl>

</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
    <a id="sidebar-anchor"></a>
    

  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="temperature_control.html"
                          title="previous chapter">Temperature control plugin</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="config.html"
                          title="next chapter">PLACE configuration</a></p>
  </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
<div id="sidebarbutton" title="Collapse sidebar">
<span>«</span>
</div>

      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="config.html" title="PLACE configuration"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="temperature_control.html" title="Temperature control plugin"
             accesskey="P">previous</a> |</li>
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2023, Paul Freeman, Jonathan Simpson, Jami Shepherd, Henrik tom Wörden, and Kasper van Wijk.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.0.2.
    </div>
  </body>
</html>